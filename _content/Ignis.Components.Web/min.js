(()=>{"use strict";var e={792:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,s){function c(e){try{d(o.next(e))}catch(e){s(e)}}function r(e){try{d(o.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,r)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FocusComponentBase=void 0;class o{constructor(){}static focus(e){return n(this,void 0,void 0,(function*(){const t=o._instances[e._id];if(null!=t&&!t.isFocused){t.isFocused=!0;for(const e of t.elements)if(e.focus(),document.activeElement===e)break;yield t.$ref.invokeMethodAsync("InvokeFocusAsync")}}))}static updateTargets(e,t,i,s,c){return n(this,void 0,void 0,(function*(){yield o.initialize(),window.setTimeout((()=>n(this,void 0,void 0,(function*(){const n=e._id;if(o._lastId>=n&&!o._instances[n])return;const r=s&&!o._instances[n];o._instances[n]={keysToCapture:c,isFocused:i,elements:t,$ref:e},n>o._lastId&&(o._lastId=n),r&&(yield o.focus(e))}))),0)}))}static dispose(e){const t=e._id;o._instances[t]=void 0,delete o._instances[t]}static checkEvent(e,t){const n=e.target;if(null!=n)for(const e in o._instances){const i=o._instances[e];if(null==i)continue;let s=!1;for(const e of i.elements)e&&e.contains(n)&&(s=!0);t(i,s)}}static onFocus(e){return n(this,void 0,void 0,(function*(){o.checkEvent(e,((e,t)=>n(this,void 0,void 0,(function*(){if(t){if(e.isFocused)return;e.isFocused=!0,yield e.$ref.invokeMethodAsync("InvokeFocusAsync")}else{if(!e.isFocused)return;e.isFocused=!1,yield e.$ref.invokeMethodAsync("InvokeBlurAsync")}}))))}))}static onKey(e){return n(this,void 0,void 0,(function*(){o.checkEvent(e,((t,o)=>n(this,void 0,void 0,(function*(){o&&t.isFocused&&t.keysToCapture.includes(e.code)&&(e.preventDefault(),yield t.$ref.invokeMethodAsync("InvokeKeyDownAsync",{Key:e.key,Code:e.code,Location:e.location,Repeat:e.repeat,CtrlKey:e.ctrlKey,ShiftKey:e.shiftKey,AltKey:e.altKey,MetaKey:e.metaKey,Type:e.type}))}))))}))}static initialize(){return n(this,void 0,void 0,(function*(){o._isInitialized||(o._isInitialized=!0,document.addEventListener("click",o.onFocus),document.addEventListener("focusin",o.onFocus),document.addEventListener("keydown",o.onKey))}))}}t.FocusComponentBase=o,o._instances={},o._isInitialized=!1,o._lastId=0},647:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,s){function c(e){try{d(o.next(e))}catch(e){s(e)}}function r(e){try{d(o.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,r)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollDetector=void 0;const i=n(734);class s extends i.ComponentBase{constructor(e){super(e,"Ignis.Components.Web.ScrollDetector"),this._onScroll=()=>{this.onScroll()},window.addEventListener("scroll",this._onScroll),this._onScroll()}onScroll(){return o(this,void 0,void 0,(function*(){yield this.$ref.invokeMethodAsync("InvokeScrollAsync",window.scrollX,window.scrollY)}))}dispose(){super.dispose(),window.removeEventListener("scroll",this._onScroll)}}t.ScrollDetector=s},530:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentBase=void 0;class n{get $ref(){return n._instances[this._id]._ref}constructor(e,t){this._ref=e,this._id=t;let o=n._instances[t];o&&o.dispose(),n._instances[t]=this}dispose(){delete n._instances[this._id]}}t.ComponentBase=n,n._instances={}},734:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.registerStaticComponent=t.registerComponent=t.ComponentBase=void 0;var o=n(530);Object.defineProperty(t,"ComponentBase",{enumerable:!0,get:function(){return o.ComponentBase}});var i=n(499);Object.defineProperty(t,"registerComponent",{enumerable:!0,get:function(){return i.registerComponent}}),Object.defineProperty(t,"registerStaticComponent",{enumerable:!0,get:function(){return i.registerStaticComponent}})},499:(e,t)=>{function n(e,t){let n=window;const o=e.split(".");for(;o.length>1;){const e=o.shift();n[e]||(n[e]={}),n=n[e]}n[o.shift()]=t}Object.defineProperty(t,"__esModule",{value:!0}),t.registerStaticComponent=t.registerComponent=void 0,t.registerComponent=function(e,t){n(e,((e,...n)=>new t(e,...n)))},t.registerStaticComponent=n}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,n),s.exports}(()=>{const e=n(734),t=n(792),o=n(647);(0,e.registerStaticComponent)("Ignis.Components.Web.FocusComponentBase",t.FocusComponentBase),(0,e.registerComponent)("Ignis.Components.Web.ScrollDetector",o.ScrollDetector)})()})();